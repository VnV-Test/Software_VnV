<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ko"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AdminFrame.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Software_VnV</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">AdminFrame.java</span></div><h1>AdminFrame.java</h1><pre class="source lang-java linenums">import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextField;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;


public class AdminFrame extends JFrame{

<span class="nc" id="L18">    int selectProduct = -1;</span>

<span class="nc" id="L20">    private JPanel center = new JPanel(new GridLayout(3,1,15,15));</span>
<span class="nc" id="L21">    private JTextField nametf = new JTextField(&quot;&quot;,8);</span>
<span class="nc" id="L22">    private JTextField pricetf = new JTextField(&quot;&quot;,8);</span>
<span class="nc" id="L23">    private JTextField stocktf = new JTextField(&quot;&quot;,8);</span>

<span class="nc" id="L25">    private JTextField idtf = new JTextField(&quot;&quot;,8);</span>
<span class="nc" id="L26">    private JTextField locationtf = new JTextField(&quot;&quot;,8);</span>

<span class="nc" id="L28">    private JTextField contacttf = new JTextField(&quot;&quot;,8);</span>
<span class="nc" id="L29">    MainFrame parent = null;</span>

    public AdminFrame(MainFrame parent) {
<span class="nc" id="L32">        super(&quot;Admin Mode&quot;);</span>
<span class="nc" id="L33">        this.parent = parent;</span>
<span class="nc" id="L34">        this.setSize(500,650);</span>
<span class="nc" id="L35">        this.setLocationRelativeTo(null);</span>
<span class="nc" id="L36">        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);</span>
        //frame.setBackground(Color.white);
<span class="nc" id="L38">        init();</span>
<span class="nc" id="L39">        this.setVisible(true);</span>
<span class="nc" id="L40">    }</span>
    private void init() {
<span class="nc" id="L42">        initDrink();</span>
<span class="nc" id="L43">        initVM();</span>
<span class="nc" id="L44">        initContact();</span>
<span class="nc" id="L45">        center.setBackground(Color.white);</span>
<span class="nc" id="L46">        this.add(center);</span>
<span class="nc" id="L47">    }</span>
    private void initDrink() {
<span class="nc" id="L49">        JPanel drinkPanel = new JPanel();</span>
<span class="nc" id="L50">        drinkPanel.setPreferredSize(new Dimension(500,350));</span>
<span class="nc" id="L51">        drinkPanel.setBackground(Color.white);</span>
<span class="nc" id="L52">        drinkPanel.setBorder(BorderFactory.createEmptyBorder(25,25,25,25));</span>
<span class="nc" id="L53">        JPanel drinkMainPanel = new JPanel(new GridLayout(1,3,5,5));</span>
<span class="nc" id="L54">        drinkMainPanel.setPreferredSize(new Dimension(400,150));</span>
<span class="nc" id="L55">        drinkMainPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.black),&quot;Drink Edit&quot;));</span>
<span class="nc" id="L56">        drinkMainPanel.setBackground(Color.white);</span>
<span class="nc" id="L57">        drinkPanel.add(drinkMainPanel);</span>

        // textPanel
<span class="nc" id="L60">        JPanel textPanel = new JPanel(new GridLayout(3,1,0,0));</span>
<span class="nc" id="L61">        textPanel.setBackground(Color.white);</span>
<span class="nc" id="L62">        textPanel.setBorder(BorderFactory.createEmptyBorder(20,10,10,0));</span>
<span class="nc" id="L63">        JLabel name = new JLabel(&quot;Item name: &quot;);</span>
<span class="nc" id="L64">        JLabel price = new JLabel(&quot;Item price: &quot;);</span>
<span class="nc" id="L65">        JLabel stock = new JLabel(&quot;stock: &quot;);</span>

<span class="nc" id="L67">        textPanel.add(name);</span>
<span class="nc" id="L68">        textPanel.add(price);</span>
<span class="nc" id="L69">        textPanel.add(stock);</span>
<span class="nc" id="L70">        drinkMainPanel.add(textPanel);</span>
        // textfieldPanel
<span class="nc" id="L72">        JPanel tfPanel = new JPanel(new GridLayout(3,1,0,0));</span>
<span class="nc" id="L73">        tfPanel.setBackground(Color.white);</span>
<span class="nc" id="L74">        tfPanel.setBorder(BorderFactory.createEmptyBorder(20,0,10,0));</span>
<span class="nc" id="L75">        tfPanel.add(nametf);</span>
<span class="nc" id="L76">        tfPanel.add(pricetf);</span>
<span class="nc" id="L77">        tfPanel.add(stocktf);</span>
<span class="nc" id="L78">        drinkMainPanel.add(tfPanel);</span>
        // btnPanel
<span class="nc" id="L80">        JPanel btnPanel = new JPanel(new GridLayout(3,1,10,5));</span>
<span class="nc" id="L81">        btnPanel.setBackground(Color.white);</span>
<span class="nc" id="L82">        btnPanel.setBorder(BorderFactory.createEmptyBorder(20,30,10,10));</span>
<span class="nc" id="L83">        JButton choose = new JButton(&quot;Choose&quot;);</span>
<span class="nc" id="L84">        choose.setBackground(new Color(80,188,223));</span>
<span class="nc" id="L85">        choose.setForeground(Color.white);</span>
<span class="nc" id="L86">        choose.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
<span class="nc" id="L90">                DrinkDialog drink = new DrinkDialog(&quot;Drink Choose&quot;,false,AdminFrame.this.parent.getVM(),AdminFrame.this);</span>
<span class="nc" id="L91">            }</span>
        });
<span class="nc" id="L93">        JButton change = new JButton(&quot;Edit&quot;);</span>
<span class="nc" id="L94">        change.setBackground(new Color(80,188,223));</span>
<span class="nc" id="L95">        change.setForeground(Color.white);</span>
<span class="nc" id="L96">        change.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
<span class="nc bnc" id="L100" title="All 2 branches missed.">                if(AdminFrame.this.selectProduct == -1) { return; }</span>
<span class="nc" id="L101">                Drink drinklist[] = parent.getVM().getDrinkArray();</span>
<span class="nc" id="L102">                Item item = parent.getVM().findItem(drinklist[selectProduct].getName());</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">                if(nametf.getText() != null){</span>
<span class="nc" id="L104">                    drinklist[selectProduct].setName(nametf.getText());</span>
<span class="nc" id="L105">                    parent.getVM().requestChangeName(selectProduct, nametf.getText());</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">                    if(item != null){</span>
<span class="nc" id="L107">                        item.editName(nametf.getText());</span>
                    }
                }
<span class="nc bnc" id="L110" title="All 2 branches missed.">                if(pricetf.getText() != null){</span>
                    int price;
                    try{
<span class="nc" id="L113">                        price  = Integer.parseInt(pricetf.getText());</span>
<span class="nc" id="L114">                    }catch(NumberFormatException e2){</span>
<span class="nc" id="L115">                        JOptionPane.showMessageDialog(null, &quot;\n&quot; + &quot;Strings other than integers cannot be entered for price.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L116">                        return;</span>
<span class="nc" id="L117">                    }</span>
<span class="nc" id="L118">                    drinklist[selectProduct].setPrice(price);</span>
<span class="nc" id="L119">                    parent.getVM().requestChangePrice(selectProduct,price);</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">                    if(item != null){</span>
<span class="nc" id="L121">                        item.editPrice(price);</span>
                    }
                }
<span class="nc bnc" id="L124" title="All 4 branches missed.">                if( stocktf.isEnabled() &amp;&amp; stocktf.getText() != null){</span>
                    int stock;
                    try{
<span class="nc" id="L127">                        stock  = Integer.parseInt(stocktf.getText());</span>
<span class="nc" id="L128">                    }catch(NumberFormatException e2){</span>
<span class="nc" id="L129">                        JOptionPane.showMessageDialog(null, &quot;\n&quot; + &quot;Strings other than integers cannot be entered for price.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L130">                        return;</span>
<span class="nc" id="L131">                    }</span>
<span class="nc bnc" id="L132" title="All 2 branches missed.">                    if(item != null){</span>
<span class="nc bnc" id="L133" title="All 4 branches missed.">                        if(stock &lt; 0 || stock &gt; 99){</span>
<span class="nc" id="L134">                            JOptionPane.showMessageDialog(null, &quot;\n&quot; + &quot;Stocks input only 0 ~ 99 .&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L135">                            return;</span>
                        }
<span class="nc" id="L137">                        item.editStock(stock);</span>
                    }
                }
<span class="nc" id="L140">                JOptionPane.showMessageDialog(null, &quot;Has been changed.&quot;, &quot;Guidance&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L141">                parent.showDrink();</span>
<span class="nc" id="L142">            }</span>
        });
<span class="nc" id="L144">        btnPanel.add(choose);</span>
<span class="nc" id="L145">        btnPanel.add(change);</span>
<span class="nc" id="L146">        drinkMainPanel.add(btnPanel);</span>
<span class="nc" id="L147">        center.add(drinkPanel);</span>
<span class="nc" id="L148">    }</span>
    private void initVM() {
<span class="nc" id="L150">        JPanel vmPanel = new JPanel();</span>
<span class="nc" id="L151">        vmPanel.setPreferredSize(new Dimension(500,300));</span>
<span class="nc" id="L152">        vmPanel.setBackground(Color.white);</span>
<span class="nc" id="L153">        vmPanel.setBorder(BorderFactory.createEmptyBorder(25,25,35,25));</span>
<span class="nc" id="L154">        JPanel vmMainPanel = new JPanel(new GridLayout(1,3,5,5));</span>
<span class="nc" id="L155">        vmMainPanel.setPreferredSize(new Dimension(400,150));</span>
<span class="nc" id="L156">        vmMainPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.black),&quot;VM Edit&quot;));</span>
<span class="nc" id="L157">        vmMainPanel.setBackground(Color.white);</span>
<span class="nc" id="L158">        vmPanel.add(vmMainPanel);</span>

        // textPanel
<span class="nc" id="L161">        JPanel textPanel = new JPanel(new GridLayout(2,1,0,0));</span>
<span class="nc" id="L162">        textPanel.setBackground(Color.white);</span>
<span class="nc" id="L163">        textPanel.setBorder(BorderFactory.createEmptyBorder(30,10,30,0));</span>
<span class="nc" id="L164">        JLabel name = new JLabel(&quot;VM ID: &quot;);</span>
<span class="nc" id="L165">        JLabel price = new JLabel(&quot;VM Location: &quot;);</span>

<span class="nc" id="L167">        textPanel.add(name);</span>
<span class="nc" id="L168">        textPanel.add(price);</span>
<span class="nc" id="L169">        vmMainPanel.add(textPanel);</span>
        // textfieldPanel
<span class="nc" id="L171">        JPanel tfPanel = new JPanel(new GridLayout(2,1,0,0));</span>
<span class="nc" id="L172">        tfPanel.setBackground(Color.white);</span>
<span class="nc" id="L173">        tfPanel.setBorder(BorderFactory.createEmptyBorder(30,0,30,0));</span>
<span class="nc" id="L174">        tfPanel.add(idtf);</span>
<span class="nc" id="L175">        tfPanel.add(locationtf);</span>
<span class="nc" id="L176">        vmMainPanel.add(tfPanel);</span>
        // btnPanel
<span class="nc" id="L178">        JPanel btnPanel = new JPanel(new GridLayout(2,1,10,5));</span>
<span class="nc" id="L179">        btnPanel.setBackground(Color.white);</span>
<span class="nc" id="L180">        btnPanel.setBorder(BorderFactory.createEmptyBorder(30,30,30,10));</span>
<span class="nc" id="L181">        JButton change = new JButton(&quot;Edit&quot;);</span>
<span class="nc" id="L182">        change.setBackground(new Color(80,188,223));</span>
<span class="nc" id="L183">        change.setForeground(Color.white);</span>
<span class="nc" id="L184">        change.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
<span class="nc bnc" id="L188" title="All 2 branches missed.">                if(!(locationtf.getText() == &quot;&quot;))</span>
<span class="nc" id="L189">                    parent.getVM().editVMAddress(idtf.getText());</span>
                int id;
<span class="nc bnc" id="L191" title="All 2 branches missed.">                if(!(idtf.getText() == &quot;&quot;)){</span>
                    try{
<span class="nc" id="L193">                        id  = Integer.parseInt(idtf.getText());</span>
<span class="nc" id="L194">                    }catch(NumberFormatException e2){</span>
<span class="nc" id="L195">                        JOptionPane.showMessageDialog(null, &quot;\n&quot; + &quot;Strings other than integers cannot be entered for id.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L196">                        return;</span>
<span class="nc" id="L197">                    }</span>
<span class="nc" id="L198">                    parent.getVM().editVMID(id);</span>
<span class="nc" id="L199">                    JOptionPane.showMessageDialog(null, &quot;Has been changed.&quot;, &quot;Guidance&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
<span class="nc" id="L200">                }else{ return; }</span>
<span class="nc" id="L201">            }</span>
        });
<span class="nc" id="L203">        btnPanel.add(change);</span>
<span class="nc" id="L204">        vmMainPanel.add(btnPanel);</span>

<span class="nc" id="L206">        center.add(vmPanel);</span>
<span class="nc" id="L207">    }</span>
    private void initContact() {
<span class="nc" id="L209">        JPanel contactPanel = new JPanel();</span>
<span class="nc" id="L210">        contactPanel.setPreferredSize(new Dimension(500,300));</span>
<span class="nc" id="L211">        contactPanel.setBackground(Color.white);</span>
<span class="nc" id="L212">        contactPanel.setBorder(BorderFactory.createEmptyBorder(25,25,35,25));</span>
<span class="nc" id="L213">        JPanel contactMainPanel = new JPanel(new GridLayout(1,3,5,5));</span>
<span class="nc" id="L214">        contactMainPanel.setPreferredSize(new Dimension(400,90));</span>
<span class="nc" id="L215">        contactMainPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.black),&quot;Contact Edit&quot;));</span>
<span class="nc" id="L216">        contactMainPanel.setBackground(Color.white);</span>
<span class="nc" id="L217">        contactPanel.add(contactMainPanel);</span>

        // textPanel
<span class="nc" id="L220">        JPanel textPanel = new JPanel(new GridLayout(2,1,0,0));</span>
<span class="nc" id="L221">        textPanel.setBackground(Color.white);</span>
<span class="nc" id="L222">        textPanel.setBorder(BorderFactory.createEmptyBorder(20,10,10,0));</span>
<span class="nc" id="L223">        JLabel name = new JLabel(&quot;Contact: &quot;);</span>

<span class="nc" id="L225">        textPanel.add(name);</span>
<span class="nc" id="L226">        contactMainPanel.add(textPanel);</span>
        // textfieldPanel
<span class="nc" id="L228">        JPanel tfPanel = new JPanel(new GridLayout(2,1,0,0));</span>
<span class="nc" id="L229">        tfPanel.setBackground(Color.white);</span>
<span class="nc" id="L230">        tfPanel.setBorder(BorderFactory.createEmptyBorder(20,0,10,0));</span>
<span class="nc" id="L231">        tfPanel.add(contacttf);</span>
<span class="nc" id="L232">        contactMainPanel.add(tfPanel);</span>
        // btnPanel
<span class="nc" id="L234">        JPanel btnPanel = new JPanel(new GridLayout(2,1,10,5));</span>
<span class="nc" id="L235">        btnPanel.setBackground(Color.white);</span>
<span class="nc" id="L236">        btnPanel.setBorder(BorderFactory.createEmptyBorder(20,30,10,10));</span>
<span class="nc" id="L237">        JButton change = new JButton(&quot;Edit&quot;);</span>
<span class="nc" id="L238">        change.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
<span class="nc bnc" id="L242" title="All 2 branches missed.">                if(contacttf.getText() == &quot;&quot;)</span>
<span class="nc" id="L243">                    return;</span>
                else {
<span class="nc" id="L245">                    parent.getAdmin().editContact(contacttf.getText());</span>
<span class="nc" id="L246">                    JOptionPane.showMessageDialog(null, &quot;변경되었습니다.&quot;, &quot;안내&quot;, JOptionPane.INFORMATION_MESSAGE);</span>
                }
<span class="nc" id="L248">            }</span>
        });
<span class="nc" id="L250">        change.setBackground(new Color(80,188,223));</span>
<span class="nc" id="L251">        change.setForeground(Color.white);</span>
<span class="nc" id="L252">        btnPanel.add(change);</span>
<span class="nc" id="L253">        contactMainPanel.add(btnPanel);</span>

<span class="nc" id="L255">        center.add(contactPanel);</span>
<span class="nc" id="L256">    }</span>
    public void setSelectProduct(int index){
<span class="nc" id="L258">        this.selectProduct = index;</span>
<span class="nc" id="L259">    }</span>
    public void setProduct(String name,int price){
<span class="nc" id="L261">        nametf.setText(name);</span>
<span class="nc" id="L262">        pricetf.setText(String.valueOf(price));</span>
<span class="nc" id="L263">        Item item = parent.getVM().findItem(name);</span>
<span class="nc bnc" id="L264" title="All 2 branches missed.">        if( item == null) {</span>
<span class="nc" id="L265">            stocktf.setEnabled(false);</span>
<span class="nc" id="L266">            stocktf.setText(&quot;&quot;);</span>
        }else{
<span class="nc" id="L268">            stocktf.setEnabled(true);</span>
<span class="nc" id="L269">            stocktf.setText(String.valueOf(item.getStock()));</span>
        }

<span class="nc" id="L272">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>